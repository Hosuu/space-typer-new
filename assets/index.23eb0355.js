var b=Object.defineProperty;var w=(n,t,e)=>t in n?b(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var i=(n,t,e)=>(w(n,typeof t!="symbol"?t+"":t,e),e);const x=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const p of o.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}};x();class h{constructor(t){i(this,"mainContainer");const e=document.querySelector(t);if(e instanceof HTMLDivElement)this.mainContainer=e;else throw Error(`Cannot find element with id: ${t}`)}open(){m.closeAllModals(),this.mainContainer.setAttribute("open","")}close(){this.mainContainer.removeAttribute("open")}toggle(){this.isOpened()?this.close():this.open()}isOpened(){return this.mainContainer.getAttribute("open")!==null}}class y extends h{constructor(){super("#changelog");i(this,"contentDiv");const e=document.querySelector("#changelog_content");if(e instanceof HTMLDivElement)this.contentDiv=e;else throw Error("Cannot find element with id: #changelog_content");this.fetchChangelogData()}fetchChangelogData(){fetch(location.origin+"/changelog").then(e=>e.text()).then(e=>{this.contentDiv.innerHTML=e})}}class v extends h{constructor(){super("#settings")}}class E extends h{constructor(){super("#statistics")}}const u=class{static save(){try{const t=JSON.stringify(this.current);return localStorage.setItem(u.STORAGE_KEY,t),!0}catch(t){return console.error(t),!1}}static load(){let t=null;try{t=localStorage.getItem(u.STORAGE_KEY)}catch(s){return console.error(s),!1}if(!t)return!1;const e=JSON.parse(t);for(const[s,r]of Object.entries(e))this.set(s,r);return!0}static set(t,e){e!==u.defaultSettings[t]?this.current.set(t,e):this.current.has(t)&&this.current.delete(t)}static get(t){return this.current.has(t)?this.current.get(t):u.defaultSettings[t]}};let a=u;i(a,"STORAGE_KEY","ST_Settings"),i(a,"defaultSettings",{disableDefaultKeyFunctions:!1,promptPreventKeyRepeating:!1,backgroundEnabled:!0,backgroundOpacity:.9,backgroundBlurEnabled:!0,backgroundBlurStrength:1.5,backgroundStarsEnabled:!0,backgroundStarsMaxCont:500,backgroundStarsShiningEnabled:!0,starsParallaxEnabled:!0,starsParallaxScale:.05,starsParallaxSpeed:.5,particlesEnabled:!0,particlesBlurEnabled:!0,particlesBlurStrength:1,particlesOpacity:1,wordsPadding:3,wordsFont:"Comfortaa",wordsFontSize:24,wordsTypingMatchEnabled:!0,wordsTypingMatchColor:"#00ffff",wordsHightlightEnabled:!0,wordsHightlightColor:"#55ff77",wordColor:"#ffffff",goldenWordColor:"#e6b822",uwuPrompt:!1}),i(a,"current",new Map);class c{static init(){const t=document.querySelector("#PromptText");if(!t)throw Error("Cannot find #PromptText element");this.promptTextElement=t,this.currentValue=new Array,this.isEnabled=!0,this.lastSubmition="Start typing...",this.updateDOM(),window.addEventListener("keydown",this.keyboardEventHandler.bind(this))}static enable(){this.isEnabled||(this.isEnabled=!0,this.updateDOM())}static disable(){!this.isEnabled||(this.isEnabled=!1,this.updateDOM())}static updateDOM(){this.promptTextElement.innerHTML=this.lastSubmition?this.lastSubmition:this.getTextValue(),a.get("uwuPrompt")&&this.promptTextElement.getAttribute("uwu")===null?this.promptTextElement.setAttribute("uwu",""):!a.get("uwuPrompt")&&this.promptTextElement.getAttribute("uwu")!==null&&this.promptTextElement.removeAttribute("uwu"),this.isEnabled&&this.promptTextElement.getAttribute("cursor")===null?this.promptTextElement.setAttribute("cursor",""):!this.isEnabled&&this.promptTextElement.getAttribute("cursor")!==null&&this.promptTextElement.removeAttribute("cursor"),this.lastSubmition&&this.promptTextElement.getAttribute("history")===null?this.promptTextElement.setAttribute("history",""):!this.lastSubmition&&this.promptTextElement.getAttribute("history")!==null&&this.promptTextElement.removeAttribute("history")}static keyboardEventHandler(t){if(a.get("disableDefaultKeyFunctions")&&t.preventDefault(),!this.isEnabled)return;const{key:e,code:s,timeStamp:r,repeat:o,ctrlKey:p}=t;if(!(o&&a.get("promptPreventKeyRepeating")))switch(s){case"Backspace":return p?this.clear():this.backspace();case"Enter":case"Space":return this.submit(r);default:if(e.length===1)return this.registerChar(e,r)}}static registerChar(t,e){this.lastSubmition="",this.currentValue.push({char:t,timeStamp:e}),this.updateDOM()}static backspace(){this.currentValue.pop(),this.updateDOM()}static clear(){this.currentValue=new Array,this.updateDOM()}static getTextValue(){return this.currentValue.reduce((t,{char:e})=>t+e,"")}static submit(t){const e=this.getTextValue().trim();if(e.length===0)return;const s=t-this.currentValue[0].timeStamp;console.log(e,s),this.playShakeAnimation(),this.lastSubmition=e,this.clear()}static playPopAnimation(){const t=()=>{this.promptTextElement.removeAttribute("poping"),this.promptTextElement.removeEventListener("animationend",t)};this.promptTextElement.addEventListener("animationend",t),this.promptTextElement.setAttribute("poping","")}static playShakeAnimation(){const t=()=>{this.promptTextElement.removeAttribute("shakeing"),this.promptTextElement.removeEventListener("animationend",t)};this.promptTextElement.addEventListener("animationend",t),this.promptTextElement.setAttribute("shakeing","")}}i(c,"promptTextElement"),i(c,"currentValue"),i(c,"isEnabled"),i(c,"lastSubmition");class m{static init(){document.querySelectorAll("[action]").forEach(t=>{switch(t.getAttribute("action")){case"github":return t.onclick=this.openGithub.bind(this);case"UwU":return t.onclick=this.toggleUwUmode.bind(this);case"changelog":return t.onclick=this.changelogModal.toggle.bind(this.changelogModal);case"settings":return t.onclick=this.settingsModal.toggle.bind(this.settingsModal);case"statistics":return t.onclick=this.statisticsModal.toggle.bind(this.statisticsModal);default:return null}})}static closeAllModals(){for(const t of[this.settingsModal,this.statisticsModal,this.changelogModal])t.close()}static openGithub(){window.open("https://github.com","_blank")}static toggleUwUmode(){a.set("uwuPrompt",!a.get("uwuPrompt"));const t=document.querySelector("#app");c.getTextValue()==="UwUsome"?(t.classList.add("uwu"),a.set("uwuPrompt",!0)):t.classList.remove("uwu"),c.updateDOM()}}i(m,"settingsModal",new v),i(m,"statisticsModal",new E),i(m,"changelogModal",new y);const l=class{constructor(){i(this,"isRunning");i(this,"lastUpdateTimeStamp");i(this,"lastRequestedFrameId");i(this,"frameCount");i(this,"deltaTime");i(this,"timeElapsed");if(l.instance)throw new Error("New engine instance detected!");l.instance=this,this.isRunning=!0,this.lastUpdateTimeStamp=performance.now(),this.lastRequestedFrameId=0,this.frameCount=0,this.deltaTime=0,this.timeElapsed=0,a.load(),c.init(),m.init(),window.addEventListener("focus",this.resume.bind(this)),window.addEventListener("blur",this.pause.bind(this)),this.lastRequestedFrameId=window.requestAnimationFrame(this.gameLoop.bind(this)),document.visibilityState==="hidden"&&this.pause()}gameLoop(t){const e=t-this.lastUpdateTimeStamp;this.deltaTime=e,this.timeElapsed+=e,this.lastUpdateTimeStamp=t,this.frameCount+=1,this.lastRequestedFrameId=window.requestAnimationFrame(this.gameLoop.bind(this))}pause(){!this.isRunning||(window.cancelAnimationFrame(this.lastRequestedFrameId),this.isRunning=!1)}resume(){this.isRunning||(this.lastUpdateTimeStamp=performance.now(),this.lastRequestedFrameId=window.requestAnimationFrame(this.gameLoop.bind(this)),this.isRunning=!0)}static getDeltaTime(){return l.instance.deltaTime}static getTimeElapsed(){return l.instance.timeElapsed}static getFrameCount(){return l.instance.frameCount}};let d=l;i(d,"instance");const f=document.querySelector("#app");document.body.onload=()=>{f.classList.remove("preload")};function g(n){f.style.setProperty("--uwu-hue-rotate",`${n*.1%360}deg`),window.requestAnimationFrame(g)}window.requestAnimationFrame(g);new d;
